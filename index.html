<!DOCTYPE html>
<lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="index.ico" type="image/x-icon">
    <link rel="shortcut icon" href="index.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <title>个人主页-韩安童</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-image: url('.src/img/beijing.jpg'); /* 替换为你的背景图片 */
            background-size: cover;
            background-position: center;
        }
        
        .acrylic-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            display: flex;
            justify-content: space-around;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 100;
        }
        .acrylic-header a {
            color: #333;
            text-decoration: none;
            margin: 0 10px;
        }
        .acrylic-header a:hover {
            color: #ddd;
        }
        
        .content {
            max-width: 960px;
            margin: 100px auto;
            padding: 2rem;
            background-color: rgba(255, 255, 255, 0.8);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .profile-pic {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 20px;
        }
        
        .profile-name {
            font-size: 24px;
            margin-bottom: 10px;
            color: #333;
        }
        
        .profile-description {
            font-size: 16px;
            color: #666;
            line-height: 1.5;
        }

        a {
        color: #007BFF; /* 蓝色，可以按需调整 */
        text-decoration: none; /* 去除默认下划线 */
        transition: color 0.3s ease; /* 平滑的颜色过渡效果 */
        }

        /* 鼠标悬停时改变链接颜色 */
        a:hover {
        color: #0056b3; /* 深蓝色，悬停时的颜色变化 */
        text-decoration: underline; /* 悬停时显示下划线 */
        }

        /* 调整段落间距 */
        p:last-child {
        margin-bottom: 1rem; /* 根据需要调整底部外边距 */
        }
        
        pre {
        max-width: 100%; /* 或指定一个具体的宽度，如800px */
        margin: 0 auto; /* 使代码块居中，若希望始终居左，可以移除此行 */
        overflow-x: auto; /* 如果代码过长，会出现滚动条 */
        }
    </style>
</head>
<p>
    <!-- 亚克力效果导航栏 -->
    <div class="acrylic-header">
        <a href="#">首页</a>
        <a href="#">关于我</a>
        <a href="#">作品展示</a>
        <a href="#">联系方式</a>
    </div>
    
    <!-- 美化后的个人信息展示区域 -->
    <div class="content">
        <img src=".src/img/touxiang.jpg" class="profile-pic" alt="韩安童头像">
        <h2 class="profile-name">韩安童</h2>
        <p class="profile-description">个人简介：</p>
        <p class="profile-description">我是一个热爱学习、热爱挑战的年轻人。我热爱编程，对技术充满热情。我是一个有责任心的团队成员，能够保质保量完成任务。我是一个有创新思维的人，能够提出新的想法和解决方案。</p>
        <img src=".src/img/weixin.jpg"alt="微信二维码">
    </p>项目
    <a href="https://qwwkwjwwkwkwkkw.github.io/qwwkwjwwkwkwkkw2.github.io/" target="_blank">在线html编辑器</a>
    <pre><code class="language-javascript">
        // 初始化控制台输入处理
        /document.getElementById('consoleInput').addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                runCommand();
            }
        });
        
        document.getElementById('runButton').addEventListener('click', runCommand);
        
        function runCommand() {
            var input = document.getElementById('consoleInput').value;
            if (input) {
                appendToConsole(input, 'user');
                executeConsoleCommand(input);
                document.getElementById('consoleInput').value = '';
            }
        }
        
            // 初始化ACE编辑器并设置其主题和模式
            var editor = ace.edit("codeEditor");
            editor.setTheme("ace/theme/monokai");
            editor.session.setMode("ace/mode/html");
            editor.setAutoScrollEditorIntoView(true);
            editor.renderer.setOption("wrap", true);
            editor.setOptions({
                enableBasicAutocompletion: true,
                enableSnippets: true,
                enableLiveAutocompletion: true
            });
        
            /**
             * 更新预览区的HTML内容。
             * 监听编辑器内容的变化，并实时更新预览。
             */
            function updatePreview() {
                var code = editor.getValue();
                var previewFrame = document.getElementById('codePreview');
                var previewDoc = previewFrame.contentDocument || previewFrame.contentWindow.document;
                previewDoc.open();
                var parser = new DOMParser();
                previewDoc.write(safeCode);
                previewDoc.close();
            }
        
            // 监听编辑器内容变化，实时更新预览
            editor.getSession().on('change', updatePreview);
        
            // 主题切换按钮点击事件处理函数
            document.getElementById('themeToggle').addEventListener('click', function() {
                document.body.classList.toggle('dark-theme');
                editor.setTheme(document.body.classList.contains('dark-theme') ? "ace/theme/terminal" : "ace/theme/chrome");
            });
        
            // 初始化时更新预览
            updatePreview();
        
            /**
             * 保存当前编辑器的内容到localStorage。
             * 用于保存用户的编辑状态，以便下次加载。
             */
            function saveCode() {
                try {
                    localStorage.setItem('savedCode', editor.getValue());
                } catch (e) {
                    console.error("保存代码时出错:", e);
                }
            }
        
            /**
             * 从localStorage导入之前保存的代码。
             * 用于加载用户上一次的编辑状态。
             */
            function importCode() {
                try {
                    var savedCode = localStorage.getItem('savedCode');
                    if (savedCode) {
                        editor.setValue(savedCode, -1);
                        updatePreview();
                    }
                } catch (e) {
                    console.error("导入代码时出错:", e);
                }
            }
        
            // 绑定保存和导入按钮的点击事件
            document.getElementById('saveButton').addEventListener('click', saveCode);
            document.getElementById('importButton').addEventListener('click', importCode);
            // 清空代码按钮点击事件处理函数
            document.getElementById('clearButton').addEventListener('click', function() {
                    editor.setValue('', -1);
                    updatePreview();
                    updateFileSize(0);
                });
        
                // 更新文件大小显示
                function updateFileSize(size) {
                    document.getElementById('fileSizeDisplay').innerText = `文件大小：${size} B`;
                }
        
                // 计算编辑器内容的字节大小
                function calculateFileSize() {
                    var code = editor.getValue();
                    var byteSize = new Blob([code]).size;
                    return byteSize;
                }
        
                // 初始文件大小
                updateFileSize(calculateFileSize());
        
                // 监听编辑器内容变化，实时更新文件大小
                editor.getSession().on('change', function() {
                    var newSize = calculateFileSize();
                    updateFileSize(newSize);
                });
            
        
        /**
         * 更新预览区的HTML内容，并尝试捕获并显示错误。
         */
        function updatePreview() {
            var code = editor.getValue();
            var previewFrame = document.getElementById('codePreview');
            var previewDoc = previewFrame.contentDocument || previewFrame.contentWindow.document;
        
            // 清除之前的错误信息
            var errorDiv = previewDoc.getElementById('errorDisplay');
            if (errorDiv) {
                errorDiv.remove();
            }
        
            previewDoc.open();
            
            try {
                // 使用DOMParser确保代码安全解析
                var parser = new DOMParser();
               
                previewDoc.write(safeCode);
            } catch (e) {
                // 如果有错误，写入错误信息到预览区
                previewDoc.write('<div id="errorDisplay"><pre>Error: ' + e.message + '</pre></div>');
            }
        
            previewDoc.close();
        }
        
        document.getElementById('copyButton').addEventListener('click', function() {
            navigator.clipboard.writeText(editor.getValue())
                .then(() => {
                    alert('代码已复制到剪贴板！');
                })
                .catch(err => {
                    console.error('复制代码失败:', err);
                });
        });
            // 初始化控制台输入处理
        document.getElementById('consoleSubmit').addEventListener('click', function() {
            var input = document.getElementById('consoleInput').value;
            if (input) {
                appendToConsole(input, 'user'); // 用户输入
                executeConsoleCommand(input);
                document.getElementById('consoleInput').value = ''; // 清空输入框
            }
        });
        
        // 向控制台添加消息
        function appendToConsole(message, type) {
            var output = document.getElementById('consoleOutput');
            var listItem = document.createElement('li');
            listItem.className = type; // 可以用来区分用户输入和输出
            listItem.textContent = message;
            output.appendChild(listItem);
            output.scrollTop = output.scrollHeight; // 自动滚动到底部
        }
        
        // 执行控制台命令
        function executeConsoleCommand(command) {
            try {
                var iframeWindow = document.getElementById('codePreview').contentWindow;
                var result = iframeWindow.eval(command); // 在iframe的上下文中执行命令
                appendToConsole(result, 'output'); // 显示输出
            } catch (e) {
                appendToConsole("Error: " + e.message, 'error'); // 显示错误信息
            }
        }
        
        // 尝试自动绑定console.log等方法到我们的控制台
        (function() {
            var iframeWindow = document.getElementById('codePreview').contentWindow;
            var originalConsoleMethods = ['log', 'warn', 'error'];
            originalConsoleMethods.forEach(method => {
                var originalMethod = iframeWindow.console[method];
                iframeWindow.console[method] = function(...args) {
                    appendToConsole(args.join(' '), method.toLowerCase()); // 将输出传递到我们的控制台
                    if (originalMethod) originalMethod.apply(console, args); // 保持原有行为
                };
            });
        })();
        // 向控制台添加消息 - 更新以支持错误样式
        function appendToConsole(message, type) {
            var output = document.getElementById('consoleOutput');
            var listItem = document.createElement('li');
            listItem.className = type;
            listItem.textContent = message;
            output.appendChild(listItem);
            if (type === 'error') listItem.classList.add('error'); // 应用错误样式
            output.scrollTop = output.scrollHeight; // 自动滚动到底部
        }
        
        // 执行控制台命令 - 确保自动滚动
        function executeConsoleCommand(command) {
            try {
                var iframeWindow = document.getElementById('codePreview').contentWindow;
                var result = iframeWindow.eval(command);
                appendToConsole(result, 'output');
            } catch (e) {
                appendToConsole("Error: " + e.message, 'error');
            }
            document.getElementById('consoleOutput').scrollTop = document.getElementById('consoleOutput').scrollHeight; // 确保自动滚动
        }
        </script>
    </code></pre>
    </div>
</body>
</html>
